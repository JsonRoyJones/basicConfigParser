<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Basic Config File Parser</title>
  </head>
  <body>
    <header>
      <h1>Please input the key name below to return its corresponding value</h1>
    </header>
    <div className='input'>
        <input id="key-val" placeholder="enter key name" type="text"></input>
        <button id="request-val">Submit</button>
    </div> <!--closing input div-->
    <div className='return-value'>
      <textarea id='return-value-text' placeholder="Value will be displayed here after submission">
      </textarea>
    </div><!--closing return value div-->
    <div id="app"></div> <!--React App div-->
  </body>
  <script>
  const returnVal = document.getElementById('return-value-text');
  async function requestVal() {
      const inputKey = document.getElementById('key-val');
      const payload = {
        item: inputKey.value
      };
      console.log(payload);
      const response = await fetch('/api/value', {
        headers: { 'content-type': 'application/json; charset=UTF-8' },
        body: JSON.stringify(payload),
        method: 'POST'
      })
      returnVal.value = await response.json()
      console.log(returnVal.value)
      console.log('Key: ', inputKey.value.toString());
      console.log('returned value: ', returnVal.value)
      
    }
    const inputButton = document.getElementById('request-val');
    inputButton.addEventListener('click', requestVal);
    
    </script>
</html>
